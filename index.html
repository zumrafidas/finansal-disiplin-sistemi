<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>MatFin Pro - Finansal Modelleme</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6366f1; --s: #10b981; --d: #f43f5e; --bg: #020617; --card: #0f172a; --text: #ffffff; --border: #1e293b; }
        [data-theme="light"] { --bg: #f8fafc; --card: #ffffff; --text: #0f172a; --border: #e2e8f0; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: var(--text); margin: 0; min-height: 100vh; transition: 0.3s; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .card { background: var(--card); padding: 35px; border-radius: 28px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); width: 100%; max-width: 580px; border: 1px solid var(--border); position: relative; text-align: center; }
        .theme-toggle { position: absolute; top: 15px; right: 15px; background: var(--border); border: none; padding: 8px; border-radius: 10px; cursor: pointer; }
        
        /* Slogan Stili */
        .slogan-container { margin: 15px 0 25px; padding: 10px; border-bottom: 1px solid var(--border); }
        .slogan-main { font-size: 18px; font-weight: 800; background: linear-gradient(135deg, var(--p), var(--s)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .slogan-sub { font-size: 11px; color: #64748b; margin-top: 5px; text-transform: uppercase; letter-spacing: 1px; }

        .input-group { margin-bottom: 18px; text-align: left; }
        label { display: block; font-size: 11px; font-weight: 700; margin-bottom: 6px; color: #64748b; }
        input { width: 100%; background: var(--bg); border: 1px solid var(--border); padding: 14px; border-radius: 12px; color: var(--text); box-sizing: border-box; font-size: 15px; transition: 0.2s; }
        input:focus { border-color: var(--p); outline: none; box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2); }
        
        .btn { width: 100%; padding: 16px; border: none; border-radius: 15px; font-weight: 800; cursor: pointer; transition: 0.3s; font-size: 16px; margin-top: 10px; }
        .btn-primary { background: var(--p); color: white; box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.3); }
        
        .results { display: none; }
        .analysis-card { background: var(--bg); border-radius: 18px; padding: 22px; margin-top: 18px; border-left: 5px solid var(--p); text-align: left; }
        .stat-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin: 20px 0; }
        .stat-box { background: var(--bg); padding: 12px; border-radius: 14px; border: 1px solid var(--border); }
        .stat-val { display: block; font-weight: 800; font-size: 18px; color: var(--s); }
        .stat-lab { font-size: 10px; color: #64748b; font-weight: 600; }
    </style>
</head>
<body data-theme="dark">
<div class="card">
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
    
    <div id="setup">
        <h1 style="margin:0; font-size: 32px; font-weight: 900; letter-spacing: -1.5px;">MatFin Pro</h1>
        
        <div class="slogan-container">
            <div class="slogan-main">BÃ¼tÃ§eni Modelle, GeleceÄŸini Tasarla.</div>
            <div class="slogan-sub">Finansal Disiplin ve Karar Destek Sistemi</div>
        </div>

        <div style="display:grid; grid-template-columns:2fr 1fr; gap:12px;">
            <div class="input-group"><label>KULLANICI ADI</label><input type="text" id="name" placeholder="AdÄ±nÄ±zÄ± girin"></div>
            <div class="input-group"><label>YAÅ</label><input type="number" id="age" placeholder="YaÅŸÄ±nÄ±z"></div>
        </div>
        
        <div class="input-group"><label>AYLIK GELÄ°R (â‚º)</label><input type="number" id="income" placeholder="Toplam aylÄ±k kazanÃ§"></div>
        
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
            <div class="input-group"><label>ZORUNLU GÄ°DERLER</label><input type="number" id="fixed" placeholder="Kira, fatura vb."></div>
            <div class="input-group"><label>DÃœRTÃœSEL HARCAMA</label><input type="number" id="impulse" placeholder="Ä°stek, eÄŸlence"></div>
        </div>
        
        <button class="btn btn-primary" onclick="analyze()">ANALÄ°ZÄ° Ã‡ALIÅTIR</button>
    </div>

    <div id="results" class="results">
        <h3 id="res-title" style="margin:0 0 15px 0;"></h3>
        
        <div class="stat-row">
            <div class="stat-box"><span class="stat-lab">DÄ°SÄ°PLÄ°N PUANI</span><span class="stat-val" id="res-score"></span></div>
            <div class="stat-box"><span class="stat-lab">NET TASARRUF</span><span class="stat-val" id="res-save"></span></div>
            <div class="stat-box"><span class="stat-lab">YAÅ ETKÄ°SÄ°</span><span class="stat-val" id="res-age-factor"></span></div>
        </div>
        
        <div style="max-width: 220px; margin: 0 auto;"><canvas id="myChart"></canvas></div>
        
        <div class="analysis-card">
            <b style="font-size: 13px; color: var(--p);">ğŸ›¡ï¸ FÄ°NANSAL KOÃ‡ ANALÄ°ZÄ°</b>
            <p id="res-coach" style="font-size: 14px; margin: 12px 0; line-height: 1.6; opacity: 0.9;"></p>
        </div>
        
        <button class="btn btn-primary" style="background:var(--border); color:var(--text)" onclick="location.reload()">VERÄ°LERÄ° SIFIRLA</button>
    </div>
</div>

<script>
    function toggleTheme() { const b = document.body; b.setAttribute('data-theme', b.getAttribute('data-theme')==='dark'?'light':'dark'); }

    function analyze() {
        const name = document.getElementById('name').value || "DeÄŸerli KullanÄ±cÄ±";
        const age = parseInt(document.getElementById('age').value) || 0;
        const inc = parseFloat(document.getElementById('income').value) || 1;
        const fix = parseFloat(document.getElementById('fixed').value) || 0;
        const imp = parseFloat(document.getElementById('impulse').value) || 0;
        
        const save = Math.max(0, inc - (fix + imp));
        const saveRatio = (save / inc);
        
        // YaÅŸ Analiz ModÃ¼lÃ¼
        const ageFactor = age > 0 ? Math.min(2.5, Math.max(1.0, age / 18)).toFixed(1) : 1.0;
        
        let score = Math.round((saveRatio * 80) + (20 - (imp/inc * 100 * ageFactor)));
        score = Math.max(0, Math.min(100, score));

        document.getElementById('setup').style.display = 'none';
        document.getElementById('results').style.display = 'block';
        document.getElementById('res-title').innerText = `Rapor: ${name}`;
        document.getElementById('res-score').innerText = `%${score}`;
        document.getElementById('res-save').innerText = `${save}â‚º`;
        document.getElementById('res-age-factor').innerText = `x${ageFactor}`;

        let comment = "";
        if (age < 22 && age > 0) {
            comment = `GenÃ§ yaÅŸ grubu avantajÄ±na sahipsiniz. Matematiksel olarak, erken yaÅŸta yapÄ±lan her 1â‚º tasarruf, 10 yÄ±l sonra x5 Ã§arpanÄ± ile karÅŸÄ±nÄ±za Ã§Ä±kacaktÄ±r. HarcamalarÄ±nÄ±zdaki %${((imp/inc)*100).toFixed(1)}'lik dÃ¼rtÃ¼sel payÄ± %10'a dÃ¼ÅŸÃ¼rmek hedeflenmelidir.`;
        } else if (age >= 22) {
            comment = `Olgun finansal yÃ¶netim aÅŸamasÄ±ndasÄ±nÄ±z. YaÅŸ katsayÄ±nÄ±z (x${ageFactor}) dÃ¼rtÃ¼sel hatalarÄ± artÄ±k daha yÃ¼ksek risk olarak tanÄ±mlÄ±yor. Birikimlerinizi enflasyon karÅŸÄ±sÄ±nda korumak iÃ§in sepet yapmalÄ±sÄ±nÄ±z.`;
        } else {
            comment = `Verileriniz iÅŸlendi. Finansal disiplin skorunuz %${score}. BÃ¼tÃ§e dengenizi korumak iÃ§in sabit giderlerin gelire oranÄ±nÄ± %50'nin altÄ±nda tutmaya Ã¶zen gÃ¶sterin.`;
        }

        document.getElementById('res-coach').innerText = comment;

        new Chart(document.getElementById('myChart'), {
            type: 'doughnut',
            data: {
                labels: ['Sabit', 'DÃ¼rtÃ¼sel', 'Tasarruf'],
                datasets: [{ data: [fix, imp, save], backgroundColor: ['#6366f1', '#f43f5e', '#10b981'], borderWidth: 0 }]
            },
            options: { plugins: { legend: { display: false } }, cutout: '82%' }
        });
    }
</script>
</body>
</html>
