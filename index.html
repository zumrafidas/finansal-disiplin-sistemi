<div class="input-box">
    <label>YaÅŸÄ±nÄ±z</label>
    <input type="number" id="yas" placeholder="Ã–rn: 15">
</div>

<script>
function superAnaliz() {
    const yas = parseInt(document.getElementById("yas").value);
    const gel = parseFloat(document.getElementById("gelir").value);
    const zor = parseFloat(document.getElementById("gider").value);
    const plan = parseFloat(document.getElementById("plansiz").value);

    if (isNaN(yas) || isNaN(gel)) return alert("LÃ¼tfen tÃ¼m verileri giriniz.");

    const toplamGider = zor + plan;
    const tasarruf = gel - toplamGider;
    const tasarrufOrani = tasarruf / gel;

    // YAÅA BAÄLI MATEMATÄ°KSEL MODELLEME
    // YaÅŸ ilerledikÃ§e plansÄ±z harcamanÄ±n toleransÄ± azalÄ±r
    let yasCarpani = yas / 15; // 15 yaÅŸ referans noktasÄ±
    let cezaPuani = (plan / gel) * 100 * yasCarpani;
    
    let skor = (tasarrufOrani * 100) - cezaPuani + 20; // +20 baz puan
    let finalSkor = Math.max(0, Math.min(100, Math.round(skor)));

    document.getElementById("stats").style.display = "block";
    document.getElementById("skorDaire").innerText = "%" + finalSkor;

    // FÄ°NANSAL YAÅ ANALÄ°ZÄ° (Wow FaktÃ¶rÃ¼)
    let finansalYas;
    if (finalSkor > 80) finansalYas = yas + 10;
    else if (finalSkor > 50) finansalYas = yas;
    else finansalYas = Math.max(5, yas - 7);

    let mesaj = `ğŸ‘¤ <b>Profil Analizi:</b> GerÃ§ek yaÅŸÄ±n ${yas} ama finansal kararlarÄ±n <b>${finansalYas} yaÅŸ</b> olgunluÄŸunda gÃ¶rÃ¼nÃ¼yor.<br><br>`;
    
    if (finansalYas > yas) {
        mesaj += "ğŸŒŸ <b>MÃ¼kemmel:</b> GeleceÄŸini ÅŸimdiden inÅŸa ediyorsun. Bu disiplin seni yaÅŸÄ±tlarÄ±nÄ±n Ã§ok Ã¶nÃ¼ne geÃ§irecek.";
    } else if (finansalYas < yas) {
        mesaj += "âš ï¸ <b>Dikkat:</b> HarcamalarÄ±n, gelirine gÃ¶re biraz 'Ã§ocuksu' kalÄ±yor. Matematiksel olarak bÃ¼tÃ§en alarm veriyor!";
    }

    // Gelecek Tahmini ve Tasarruf Ä°pucu
    let birikim = tasarruf * 12;
    let tavsiye = plan * 0.2; // PlansÄ±z harcamadan %20 tasarruf etse
    
    document.getElementById("yorumKutusu").innerHTML = mesaj;
    document.getElementById("gelecekTahmini").innerHTML = `
        ğŸ“… <b>1 YÄ±llÄ±k Tahmin:</b> ${birikim.toLocaleString()} â‚º biriktirebilirsin.<br><br>
        ğŸ’¡ <b>ZÃ¼mra'nÄ±n Ä°pucu:</b> PlansÄ±z harcamalarÄ±ndan her ay sadece <b>${tavsiye.toFixed(2)} â‚º</b> kÄ±sarsan, yÄ±l sonunda fazladan <b>${(tavsiye*12).toFixed(2)} â‚º</b> cebinde kalÄ±r!
    `;
}
</script>
