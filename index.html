<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>FÄ°DAS v2.0 - Matematiksel Finansal Analiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary: #2563eb;
            --danger: #ef4444;
            --warning: #f59e0b;
            --success: #10b981;
            --bg: #f8fafc;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); color: #1e293b; padding: 20px; }
        .container { max-width: 500px; margin: auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { font-size: 24px; color: var(--primary); margin-bottom: 5px; }
        p.subtitle { font-size: 14px; color: #64748b; margin-bottom: 25px; }
        .input-group { text-align: left; margin-bottom: 15px; }
        label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 5px; color: #475569; }
        input { width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 10px; box-sizing: border-box; transition: 0.3s; font-size: 16px; }
        input:focus { border-color: var(--primary); outline: none; }
        button { width: 100%; padding: 15px; border: none; border-radius: 10px; background-color: var(--primary); color: white; font-weight: bold; font-size: 16px; cursor: pointer; margin-top: 10px; transition: 0.3s; }
        button:hover { background-color: #1d4ed8; transform: translateY(-2px); }
        .result-card { margin-top: 25px; padding: 20px; border-radius: 15px; background: #f1f5f9; display: none; }
        .bar-container { width: 100%; height: 12px; background-color: #e2e8f0; border-radius: 10px; margin: 15px 0; overflow: hidden; }
        .bar { height: 100%; width: 0%; transition: 1s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        #tahmin { font-size: 13px; color: #64748b; margin-top: 10px; border-top: 1px dashed #cbd5e1; padding-top: 10px; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>FÄ°DAS <small style="font-size: 12px; vertical-align: middle; opacity: 0.7;">v2.0</small></h1>
    <p class="subtitle">GenÃ§ler Ä°Ã§in Finansal DavranÄ±ÅŸ Analiz Sistemi</p>

    <div class="input-group">
        <label>AylÄ±k Toplam Gelir (â‚º)</label>
        <input type="number" id="gelir" placeholder="Ã–rn: 2000">
    </div>
    <div class="input-group">
        <label>AylÄ±k Zorunlu Giderler (â‚º)</label>
        <input type="number" id="gider" placeholder="Ã–rn: 1200">
    </div>
    <div class="input-group">
        <label>Ay Ä°Ã§indeki PlansÄ±z Harcama SayÄ±sÄ±</label>
        <input type="number" id="plansiz" placeholder="Ã–rn: 3">
    </div>

    <button onclick="analizEt()">Matematiksel Analizi BaÅŸlat</button>

    <div id="resultCard" class="result-card">
        <div id="badge" class="badge"></div>
        <div style="font-size: 14px; font-weight: 600;">Finansal Disiplin Skoru</div>
        <div id="skorDeger" style="font-size: 32px; font-weight: 800; margin: 5px 0;"></div>
        
        <div class="bar-container">
            <div id="skorBar" class="bar"></div>
        </div>

        <div id="yorum" style="font-size: 14px; line-height: 1.5;"></div>
        <div id="tahmin"></div>
    </div>
</div>

<script>
function analizEt() {
    const gelir = parseFloat(document.getElementById("gelir").value);
    const gider = parseFloat(document.getElementById("gider").value);
    const plansiz = parseFloat(document.getElementById("plansiz").value);

    if (!gelir || isNaN(gider)) {
        alert("LÃ¼tfen geÃ§erli deÄŸerler giriniz.");
        return;
    }

    // --- MATEMATÄ°KSEL MODELLEME (9. SINIF SEVÄ°YESÄ°) ---
    
    // 1. Oran-OrantÄ±: Tasarruf OranÄ±
    let tasarruf = gelir - gider;
    let tasarrufOrani = tasarruf / gelir; // r deÄŸeri

    // 2. AÄŸÄ±rlÄ±klÄ± Ortalama Modeli (W_score)
    // KatsayÄ±lar: Tasarruf %60, PlansÄ±z Harcama Disiplini %40 etkili
    let tasarrufPuani = (tasarrufOrani * 100) * 0.6;
    let disiplinPuani = (100 - (plansiz * 10)) * 0.4;
    
    let hamSkor = tasarrufPuani + disiplinPuani;

    // 3. EÅŸik DeÄŸer KontrolÃ¼ (SÄ±nÄ±rlandÄ±rma)
    let finalSkor = Math.max(0, Math.min(100, Math.round(hamSkor)));

    // SonuÃ§ EkranÄ±nÄ± GÃ¶ster
    document.getElementById("resultCard").style.display = "block";
    document.getElementById("skorDeger").innerText = "%" + finalSkor;
    
    const bar = document.getElementById("skorBar");
    const badge = document.getElementById("badge");
    const yorum = document.getElementById("yorum");
    const tahmin = document.getElementById("tahmin");
    
    bar.style.width = finalSkor + "%";

    // MantÄ±ksal Karar YapÄ±sÄ±
    if (finalSkor < 40) {
        bar.style.backgroundColor = "var(--danger)";
        badge.style.backgroundColor = "#fee2e2";
        badge.style.color = "var(--danger)";
        badge.innerText = "RÄ°SKLÄ°";
        yorum.innerHTML = "<b>Analiz:</b> Harcama hÄ±zÄ±nÄ±z gelirinizin Ã§ok Ã¼zerinde. Acilen 'Ä°stek/Ä°htiyaÃ§' ayrÄ±mÄ± yapmalÄ±sÄ±nÄ±z.";
    } else if (finalSkor < 75) {
        bar.style.backgroundColor = "var(--warning)";
        badge.style.backgroundColor = "#fef3c7";
        badge.style.color = "var(--warning)";
        badge.innerText = "GELÄ°ÅžTÄ°RÄ°LEBÄ°LÄ°R";
        yorum.innerHTML = "<b>Analiz:</b> Dengeli bir bÃ¼tÃ§eniz var ancak plansÄ±z harcamalar birikim yapmanÄ±zÄ± engelliyor.";
    } else {
        bar.style.backgroundColor = "var(--success)";
        badge.style.backgroundColor = "#d1fae5";
        badge.style.color = "var(--success)";
        badge.innerText = "MÃœKEMMEL";
        yorum.innerHTML = "<b>Analiz:</b> GÃ¼Ã§lÃ¼ finansal disiplin! Matematiksel olarak gÃ¼venli bÃ¶lgedesiniz.";
    }

    // 4. DoÄŸrusal Fonksiyon ile Gelecek Tahmini: f(x) = tasarruf * x
    let birYilSonra = tasarruf * 12;
    tahmin.innerHTML = `<b>ðŸ“Š 12 AylÄ±k Projeksiyon:</b> Bu disiplinle devam ederseniz, 1 yÄ±l sonunda toplam birikiminiz: <b>${birYilSonra.toLocaleString()} â‚º</b> olacaktÄ±r.`;
}
</script>

</body>
</html>
